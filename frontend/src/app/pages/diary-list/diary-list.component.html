<div class="diary-container">
  <h1>Meu Diário</h1>

  <div class="form-container">
    <h2>Nova Entrada</h2>
    <form [formGroup]="newEntryForm" (ngSubmit)="onSubmitNewEntry()">
      <textarea formControlName="conteudo" placeholder="No que você está pensando?" rows="5"></textarea>
      <div class="form-row">
        <div class="form-group mood-selector">
          <label for="humor">Humor (1 a 5):</label>
          <input type="number" id="humor" formControlName="humor" min="1" max="5">
        </div>
        <div class="form-group draft-selector">
          <label><input type="checkbox" formControlName="rascunho"> Salvar como rascunho</label>
        </div>
      </div>
      <button type="submit" [disabled]="newEntryForm.invalid">Salvar Entrada</button>
    </form>
  </div>

  <div class="search-container">
    <h2>Buscar Entradas</h2>
    <form [formGroup]="searchForm" (ngSubmit)="onSearch()">
      <div class="form-row">
        <input type="text" formControlName="palavraChave" placeholder="Buscar por palavra-chave...">
        <input type="date" formControlName="data">
        <button type="submit">Buscar</button>
        <button type="button" (click)="clearSearch()">Limpar</button>
      </div>
    </form>
  </div>

  <div class="entries-list">
    <h2>Entradas Anteriores</h2>
    <div *ngIf="entries.length === 0" class="no-entries">
      <p>Nenhuma entrada encontrada. Que tal criar a primeira?</p>
    </div>
    <div *ngFor="let entry of entries" class="entry-card">
      <div class="entry-header">
        <span class="entry-date">{{ entry.dataCriacao | date:'dd/MM/yyyy HH:mm' }}</span>
        <span class="entry-mood" *ngIf="entry.humor">Humor: {{ entry.humor }} / 5</span>
        <span class="entry-draft" *ngIf="entry.rascunho">(Rascunho)</span>
      </div>
      <div class="entry-content"><p>{{ entry.conteudo }}</p></div>
    </div>
  </div>
</div>